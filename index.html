<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#cc0000">
    <title>Taiko Metronome</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü•Å Taiko Metronome</h1>
        </header>

        <main>
            <!-- Tempo Control Section -->
            <section class="tempo-section">
                <h2>Tempo Control</h2>
                <div class="tempo-controls">
                    <label for="tempo-slider">BPM:</label>
                    <input type="range" id="tempo-slider" min="40" max="240" value="120" step="1">
                    <input type="number" id="tempo-input" min="40" max="240" value="120" step="1">
                </div>
            </section>

            <!-- Rhythm Type Section -->
            <section class="rhythm-section">
                <h2>Rhythm Type</h2>
                <div class="rhythm-controls">
                    <div class="rhythm-type">
                        <label>
                            <input type="radio" name="rhythm" value="regular" checked>
                            Regular
                        </label>
                        <label>
                            <input type="radio" name="rhythm" value="swing">
                            Swing
                        </label>
                    </div>
                    <div class="time-signature">
                        <label for="time-sig">Time Signature:</label>
                        <select id="time-sig" class="time-sig-select">
                            <option value="4/4" selected>4/4 (16 steps)</option>
                            <option value="3/4">3/4 (12 steps)</option>
                            <option value="6/8">6/8 (12 steps)</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Pattern Sequencer Section -->
            <section class="pattern-section">
                <h2 id="pattern-title">Pattern Sequencer (16 steps) - Click squares to create rhythm</h2>
                <div class="pattern-grid" id="pattern-grid">
                    <!-- Pattern rows will be generated by JavaScript -->
                </div>
                <div class="pattern-controls">
                    <button id="clear-pattern-btn" class="pattern-control-btn">Clear All</button>
                    <button id="fill-pattern-btn" class="pattern-control-btn">Fill All</button>
                </div>
            </section>

            <!-- Pitch Control Section -->
            <section class="pitch-section">
                <h2>Pitch Adjustment</h2>
                <div class="pitch-controls">
                    <div class="pitch-row">
                        <span class="instrument-label">Nagado:</span>
                        <button class="pitch-btn" data-instrument="nagado" data-direction="down">‚àí</button>
                        <span class="pitch-value" id="pitch-nagado">0</span>
                        <button class="pitch-btn" data-instrument="nagado" data-direction="up">+</button>
                    </div>
                    <div class="pitch-row">
                        <span class="instrument-label">Odaiko:</span>
                        <button class="pitch-btn" data-instrument="odaiko" data-direction="down">‚àí</button>
                        <span class="pitch-value" id="pitch-odaiko">0</span>
                        <button class="pitch-btn" data-instrument="odaiko" data-direction="up">+</button>
                    </div>
                    <div class="pitch-row">
                        <span class="instrument-label">Shime:</span>
                        <button class="pitch-btn" data-instrument="shime" data-direction="down">‚àí</button>
                        <span class="pitch-value" id="pitch-shime">0</span>
                        <button class="pitch-btn" data-instrument="shime" data-direction="up">+</button>
                    </div>
                    <div class="pitch-row">
                        <span class="instrument-label">Click:</span>
                        <button class="pitch-btn" data-instrument="click" data-direction="down">‚àí</button>
                        <span class="pitch-value" id="pitch-click">0</span>
                        <button class="pitch-btn" data-instrument="click" data-direction="up">+</button>
                    </div>
                    <div class="pitch-row">
                        <span class="instrument-label">Chappa:</span>
                        <button class="pitch-btn" data-instrument="chappa" data-direction="down">‚àí</button>
                        <span class="pitch-value" id="pitch-chappa">0</span>
                        <button class="pitch-btn" data-instrument="chappa" data-direction="up">+</button>
                    </div>
                    <div class="pitch-row">
                        <span class="instrument-label">Kane:</span>
                        <button class="pitch-btn" data-instrument="kane" data-direction="down">‚àí</button>
                        <span class="pitch-value" id="pitch-kane">0</span>
                        <button class="pitch-btn" data-instrument="kane" data-direction="up">+</button>
                    </div>
                </div>
            </section>

            <!-- Save/Load Section -->
            <section class="presets-section">
                <h2>Save & Load Patterns</h2>
                <div class="preset-controls">
                    <div class="save-pattern">
                        <input type="text" id="pattern-name" placeholder="Pattern name..." />
                        <button id="save-pattern-btn" class="preset-btn">Save Current Pattern</button>
                    </div>
                    <div class="load-pattern">
                        <select id="saved-patterns" class="pattern-select">
                            <option value="">-- Select a saved pattern --</option>
                        </select>
                        <button id="load-pattern-btn" class="preset-btn">Load</button>
                        <button id="delete-pattern-btn" class="preset-btn delete-btn">Delete</button>
                    </div>
                </div>
            </section>

            <!-- Loop Control Section -->
            <section class="loop-section">
                <h2>Loop Control</h2>
                <div class="loop-controls">
                    <label>
                        <input type="checkbox" id="loop-checkbox" checked>
                        Loop continuously
                    </label>
                    <div class="loop-count-container" style="display: none;">
                        <label for="loop-count">Bars to play:</label>
                        <input type="number" id="loop-count" min="1" max="32" value="4" step="1">
                    </div>
                </div>
            </section>

            <!-- Playback Controls -->
            <section class="playback-section">
                <div class="playback-controls">
                    <button id="play-btn" class="control-btn play-btn">‚ñ∂ Play</button>
                    <button id="stop-btn" class="control-btn stop-btn" disabled>‚èπ Stop</button>
                </div>
                <div class="status-display">
                    <span id="status-text">Ready</span>
                    <span id="beat-indicator"></span>
                </div>
            </section>
        </main>

        <footer>
            <p>Taiko Metronome - Practice with traditional Japanese percussion sounds</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
